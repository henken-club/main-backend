generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  url      = env("PRISMA_DATABASE_URL")
}

model User {
  id String @id @default(cuid())

  postsHenkens    Henken[] @relation("from")
  receivedHenkens Henken[] @relation("to")
}

model Henken {
  id String @id @default(cuid())

  createdAt DateTime @default(now())
  updatedAt DateTime @updatedAt

  comment String @default("")

  from   User   @relation("from", fields: [fromId], references: [id])
  fromId String

  to   User   @relation("to", fields: [toId], references: [id])
  toId String

  answer Answer?
}

model Answer {
  id String @id @default(cuid())

  createdAt DateTime @default(now())
  updatedAt DateTime @updatedAt

  comment String @default("")

  henken   Henken @relation(fields: [henkenId], references: [id])
  henkenId String
}
